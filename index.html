<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClassTools - Outils Pédagogiques Modernes</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <header>
            <div class="header-content">
                <div class="logo">ClassTools</div>
                <nav>
                    <button class="nav-btn active" data-page="selector">Sélecteur</button>
                    <button class="nav-btn" data-page="students">Étudiants</button>
                    <button class="nav-btn" data-page="timer">Minuteur</button>
                    <button class="nav-btn" data-page="groups">Groupes</button>
                </nav>
            </div>
        </header>

        <main>
            <!-- Selector Page -->
            <div class="page active" id="selectorPage">
                <div class="card">
                    <div class="card-title">Sélection Aléatoire</div>
                    
                    <div class="selection-stage" id="selectionStage">
                        <div class="placeholder">Appuyez sur Sélectionner</div>
                    </div>

                    <div class="mode-selector">
                        <button class="mode-btn active" data-mode="normal">Normal</button>
                        <button class="mode-btn" data-mode="elimination">Élimination</button>
                        <button class="mode-btn" data-mode="fair">Équitable</button>
                        <button class="mode-btn" data-mode="weighted">Pondéré</button>
                    </div>

                    <div class="toggle-group">
                        <div class="toggle">
                            <div class="toggle-switch active" id="animationToggle">
                                <div class="toggle-slider"></div>
                            </div>
                            <span>Animation</span>
                        </div>
                        <div class="toggle">
                            <div class="toggle-switch active" id="soundToggle">
                                <div class="toggle-slider"></div>
                            </div>
                            <span>Son</span>
                        </div>
                    </div>

                    <div class="btn-group">
                        <button class="btn" id="selectBtn">Sélectionner</button>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-success" id="startSessionBtn">Démarrer Session</button>
                        <button class="btn btn-secondary" id="endSessionBtn" disabled>Terminer Session</button>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-success" id="markCorrectBtn" disabled>✓ Correct</button>
                        <button class="btn btn-danger" id="markWrongBtn" disabled>✗ Incorrect</button>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-secondary" id="resetBtn">Réinitialiser</button>
                        <button class="btn btn-secondary" id="undoBtn">Annuler</button>
                    </div>
                </div>

                <div class="card">
                    <div class="card-title">Historique</div>
                    <div class="history" id="history">
                        <span class="history-item">Aucune sélection</span>
                    </div>
                </div>

                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-value" id="totalSelections">0</div>
                        <div class="stat-label">Sélections</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="availableCount">0</div>
                        <div class="stat-label">Disponibles</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-title">Étudiants</div>
                    <div class="student-grid" id="studentList"></div>
                </div>
            </div>

            <!-- Students Page -->
            <div class="page" id="studentsPage">
                <div class="card">
                    <div class="card-title">Gestion des Étudiants</div>
                    <select id="profileSelect">
                        <option value="">Sélectionner un groupe</option>
                    </select>
                    <div class="btn-group">
                        <button class="btn" id="importBtn">Importer Groupe</button>
                        <button class="btn btn-danger" id="deleteGroupBtn">Supprimer Groupe</button>
                    </div>
                    <div class="student-grid" id="studentList2"></div>
                </div>
            </div>

            <!-- Timer Page -->
            <div class="page" id="timerPage">
                <div class="card">
                    <div class="card-title">Minuteur</div>
                    <div class="timer-display" id="timerDisplay">00:00</div>
                    <div class="timer-progress">
                        <div class="timer-progress-fill" id="timerProgress"></div>
                    </div>
                    <div class="btn-group">
                        <button class="btn btn-secondary" data-minutes="5">5 min</button>
                        <button class="btn btn-secondary" data-minutes="10">10 min</button>
                        <button class="btn btn-secondary" data-minutes="15">15 min</button>
                        <button class="btn btn-secondary" data-minutes="20">20 min</button>
                        <button class="btn btn-secondary" data-minutes="30">30 min</button>
                    </div>
                    <input type="number" id="customMinutes" placeholder="Minutes personnalisées" min="1">
                    <div class="btn-group">
                        <button class="btn btn-success" id="startTimer">Démarrer</button>
                        <button class="btn btn-secondary" id="pauseTimer">Pause</button>
                        <button class="btn btn-danger" id="resetTimer">Réinitialiser</button>
                    </div>
                    <div class="toggle">
                        <div class="toggle-switch active" id="alarmToggle">
                            <div class="toggle-slider"></div>
                        </div>
                        <span>Alarme sonore</span>
                    </div>
                </div>
            </div>

            <!-- Groups Page -->
            <div class="page" id="groupsPage">
                <div class="card">
                    <div class="card-title">Générateur de Groupes</div>
                    <input type="number" id="numGroups" placeholder="Nombre de groupes" min="1">
                    <input type="number" id="studentsPerGroup" placeholder="Étudiants par groupe" min="1">
                    <div class="btn-group">
                        <button class="btn" id="generateGroupsBtn">Générer</button>
                        <button class="btn btn-secondary" id="shuffleGroupsBtn" style="display:none">Mélanger</button>
                    </div>
                    <div id="groupsResult"></div>
                </div>
            </div>
        </main>

        <footer>
            Made with ❤️ by <a href="https://alibks.vercel.app" target="_blank">Ali Bouyakhsass</a> | 
            <a href="https://github.com/SwirX/classtools" target="_blank">GitHub</a>
        </footer>
    </div>

    <!-- Modals -->
    <div class="modal" id="confirmModal">
        <div class="modal-content">
            <div class="modal-title" id="confirmTitle">Confirmer</div>
            <div class="modal-body" id="confirmMessage">Êtes-vous sûr?</div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="confirmCancel">Annuler</button>
                <button class="btn btn-danger" id="confirmOk">Confirmer</button>
            </div>
        </div>
    </div>

    <div class="modal" id="importModal">
        <div class="modal-content">
            <div class="modal-title">Importer des Étudiants</div>
            <div class="modal-body">
                <input type="text" id="groupName" placeholder="Nom du groupe">
                <textarea id="importText" rows="10" placeholder='["Étudiant1", "Étudiant2"] ou une ligne par étudiant'></textarea>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="importCancel">Annuler</button>
                <button class="btn" id="importConfirm">Importer</button>
            </div>
        </div>
    </div>

    <div class="modal" id="podiumModal">
        <div class="modal-content">
            <div class="modal-title">Résultats de la Session</div>
            <div class="modal-body" id="podiumContent"></div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="podiumClose">Fermer</button>
                <button class="btn" id="podiumNewSession">Nouvelle Session</button>
            </div>
        </div>
    </div>
    <script src="app.js"></script>